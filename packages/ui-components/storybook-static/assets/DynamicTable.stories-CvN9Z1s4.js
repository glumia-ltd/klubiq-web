import{j as e}from"./jsx-runtime-CiKstLBL.js";import{r as F,R as le}from"./index-CoXXcpNP.js";import{D as de}from"./DynamicAvatar-B4IGh-oz.js";import{C as xe}from"./Card-CQH3tkHk.js";import{S as ee}from"./Stack-FNVfWfbB.js";import{B as re}from"./Box-DKMDc44o.js";import{T as Q}from"./Typography-DXOq44QA.js";import{B as ye}from"./Button-9rKXOvmp.js";import{T as be,a as pe,b as ue,c as V,d as b,e as ce}from"./TableRow-7Vl7p0qN.js";import{I as Te}from"./IconButton-blHZ9kTr.js";import{c as me}from"./createSvgIcon-RFZQnbNo.js";import{q as Ce,_ as we,a as m}from"./defaultTheme-D4_KWPKg.js";import{g as je,a as ve,c as Ee}from"./generateUtilityClasses-C1n5gl2S.js";import{s as te,c as ke}from"./styled-S1aw2zqw.js";import{T as De,a as ie}from"./Grow-t2SZWvSP.js";import{u as ze}from"./useTheme-CSQB3z4f.js";import{u as Be}from"./DefaultPropsProvider-CBQ9sw5y.js";import{u as Se}from"./TransitionGroupContext-tOqp5AMi.js";import{u as $e}from"./useForkRef-DnFApgto.js";import"./AvatarGroup-GjCL-mir.js";import"./useSlot-BmQqmJkm.js";import"./resolveComponentProps-DwJlmBgI.js";import"./Tooltip-Dj0YbCQT.js";import"./index-nA9Gvw9N.js";import"./useControlled-ivOLG2Q4.js";import"./Portal-CQZLz37p.js";import"./index-S3NOQ7Fp.js";import"./useEnhancedEffect-Dze88C9b.js";import"./useSlotProps-D5x7nCp1.js";import"./Paper-BmMWkbbD.js";import"./getThemeProps-V7nEOQ_H.js";import"./ButtonBase-zdw2Te-A.js";function Re(i){return je("MuiCollapse",i)}ve("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const Ae=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],qe=i=>{const{orientation:n,classes:a}=i,t={root:["root",`${n}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${n}`],wrapperInner:["wrapperInner",`${n}`]};return ke(t,Re,a)},We=te("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(i,n)=>{const{ownerState:a}=i;return[n.root,n[a.orientation],a.state==="entered"&&n.entered,a.state==="exited"&&!a.in&&a.collapsedSize==="0px"&&n.hidden]}})(({theme:i,ownerState:n})=>m({height:0,overflow:"hidden",transition:i.transitions.create("height")},n.orientation==="horizontal"&&{height:"auto",width:0,transition:i.transitions.create("width")},n.state==="entered"&&m({height:"auto",overflow:"visible"},n.orientation==="horizontal"&&{width:"auto"}),n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&{visibility:"hidden"})),Ie=te("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(i,n)=>n.wrapper})(({ownerState:i})=>m({display:"flex",width:"100%"},i.orientation==="horizontal"&&{width:"auto",height:"100%"})),Me=te("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(i,n)=>n.wrapperInner})(({ownerState:i})=>m({width:"100%"},i.orientation==="horizontal"&&{width:"auto",height:"100%"})),he=F.forwardRef(function(n,a){const t=Be({props:n,name:"MuiCollapse"}),{addEndListener:l,children:B,className:u,collapsedSize:E="0px",component:_,easing:S,in:y,onEnter:T,onEntered:K,onEntering:$,onExit:R,onExited:A,onExiting:P,orientation:O="vertical",style:q,timeout:o=Ce.standard,TransitionComponent:X=De}=t,W=we(t,Ae),k=m({},t,{orientation:O,collapsedSize:E}),C=qe(k),I=ze(),Y=Se(),h=F.useRef(null),f=F.useRef(),D=typeof E=="number"?`${E}px`:E,w=O==="horizontal",j=w?"width":"height",v=F.useRef(null),Z=$e(a,v),d=r=>p=>{if(r){const x=v.current;p===void 0?r(x):r(x,p)}},M=()=>h.current?h.current[w?"clientWidth":"clientHeight"]:0,U=d((r,p)=>{h.current&&w&&(h.current.style.position="absolute"),r.style[j]=D,T&&T(r,p)}),s=d((r,p)=>{const x=M();h.current&&w&&(h.current.style.position="");const{duration:L,easing:J}=ie({style:q,timeout:o,easing:S},{mode:"enter"});if(o==="auto"){const ne=I.transitions.getAutoHeightDuration(x);r.style.transitionDuration=`${ne}ms`,f.current=ne}else r.style.transitionDuration=typeof L=="string"?L:`${L}ms`;r.style[j]=`${x}px`,r.style.transitionTimingFunction=J,$&&$(r,p)}),z=d((r,p)=>{r.style[j]="auto",K&&K(r,p)}),g=d(r=>{r.style[j]=`${M()}px`,R&&R(r)}),H=d(A),N=d(r=>{const p=M(),{duration:x,easing:L}=ie({style:q,timeout:o,easing:S},{mode:"exit"});if(o==="auto"){const J=I.transitions.getAutoHeightDuration(p);r.style.transitionDuration=`${J}ms`,f.current=J}else r.style.transitionDuration=typeof x=="string"?x:`${x}ms`;r.style[j]=D,r.style.transitionTimingFunction=L,P&&P(r)}),c=r=>{o==="auto"&&Y.start(f.current||0,r),l&&l(v.current,r)};return e.jsx(X,m({in:y,onEnter:U,onEntered:z,onEntering:s,onExit:g,onExited:H,onExiting:N,addEndListener:c,nodeRef:v,timeout:o==="auto"?null:o},W,{children:(r,p)=>e.jsx(We,m({as:_,className:Ee(C.root,u,{entered:C.entered,exited:!y&&D==="0px"&&C.hidden}[r]),style:m({[w?"minWidth":"minHeight"]:D},q),ref:Z},p,{ownerState:m({},k,{state:r}),children:e.jsx(Ie,{ownerState:m({},k,{state:r}),className:C.wrapper,ref:h,children:e.jsx(Me,{ownerState:m({},k,{state:r}),className:C.wrapperInner,children:B})})}))}))});he.muiSupportAuto=!0;const He=me(e.jsx("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}),"KeyboardArrowDown"),Le=me(e.jsx("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");function Fe(i,n){return n.split(".").reduce((a,t)=>a&&a[t],i)}const Ve=({columns:i,rows:n,colors:a,styles:t})=>e.jsxs(pe,{size:"small",sx:{background:a==null?void 0:a.headerBg,borderColor:(a==null?void 0:a.tableBorderColor)||"inherit",borderStyle:(t==null?void 0:t.borderStyle)||"inherit",borderRadius:(t==null?void 0:t.borderRadius)||"inherit"},children:[e.jsx(ue,{children:e.jsx(V,{children:i.map(l=>e.jsx(b,{align:l.align||"left",children:l.label},l.key))})}),e.jsx(ce,{children:n.map((l,B)=>e.jsx(V,{hover:!0,sx:{background:a==null?void 0:a.rowBg,"&:hover":{background:a==null?void 0:a.rowHoverBg}},children:i.map(u=>e.jsx(b,{align:u.align||"left",children:u.render?u.render(l):fe(l,u)},u.key))},l.id||B))})]});function fe(i,n,a){const t=Fe(i,n.key);return n.render?n.render(i):n.key===a&&t?e.jsxs(ee,{direction:"row",alignItems:"center",spacing:1,children:[e.jsx(de,{items:[t],size:"small"}),e.jsx(Q,{fontWeight:600,children:(t==null?void 0:t.name)||(t==null?void 0:t.label)||""})]}):le.isValidElement(t)||typeof t=="string"||typeof t=="number"?t:t!=null?String(t):""}const ge=({columns:i,rows:n,header:a,subHeader:t,buttonLabel:l,onButtonClick:B,onRowClick:u,avatarColumnKey:E,colors:_,styles:S,getNestedRows:y,nestedColumns:T,showHeader:K=!0,cellAlign:$="left"})=>{const{headerBg:R="#f8fbfd",headerColor:A="#222",rowBg:P="#fff",rowHoverBg:O="#f0f4fa",cellColor:q="#222",borderColor:o="#e0e0e0",headerBorderColor:X=o,cellBorderColor:W=o,cardBorderColor:k=o,cardBgColor:C="#fff"}=_,{borderStyle:I="none",buttonVariant:Y="contained",borderRadius:h=3,borderWidth:f=1,headerVariant:D="body1",titleVariant:w="h4",titleFontWeight:j=700,headerFontWeight:v=400}=S,Z=()=>{switch(I){case"outlined":return{border:`${f}px solid ${o}`,"& .MuiTableCell-root":{borderBottom:`${f}px solid ${W}`}};case"bordered":return{border:`${f}px solid ${o}`,"& .MuiTableCell-root":{border:`${f}px solid ${W}`}};default:return{"& .MuiTableCell-root":{borderBottom:`${f}px solid ${W}`}}}},[d,M]=F.useState(null),U=(s,z)=>{s.stopPropagation(),M(d===z?null:z)};return e.jsxs(xe,{sx:{p:2,borderColor:k,background:C,...Z()},children:[e.jsxs(ee,{direction:"row",justifyContent:"space-between",alignItems:"center",mb:1,children:[e.jsxs(re,{children:[a&&e.jsx(Q,{variant:w,fontWeight:j,color:A,children:a}),t&&e.jsx(Q,{variant:D,fontWeight:v,color:q,children:t})]}),l&&e.jsx(ye,{variant:Y||"klubiqTextButton",onClick:B,children:l})]}),e.jsx(be,{children:e.jsxs(pe,{sx:{borderColor:o,borderStyle:I,borderRadius:h},children:[K&&e.jsx(ue,{sx:{background:R,borderColor:X},children:e.jsxs(V,{children:[y&&T&&e.jsx(b,{}),i.map(s=>e.jsx(b,{sx:{fontWeight:v},align:s.align||"left",width:s.width,color:A,children:s.label},s.key))]})}),e.jsx(ce,{children:n.map((s,z)=>{var N;const g=s.id||z,H=y&&T&&((N=y(s))==null?void 0:N.length);return e.jsxs(le.Fragment,{children:[e.jsxs(V,{hover:!0,sx:{cursor:u?"pointer":"default",background:P,"&:hover":{background:O}},onClick:u?()=>u(s):void 0,children:[H&&e.jsx(b,{align:$,children:e.jsx(Te,{size:"small",onClick:c=>U(c,g),onKeyDown:c=>{(c.key==="Enter"||c.key===" ")&&U(c,g)},"aria-label":d===g?"Collapse row":"Expand row","aria-expanded":d===g,tabIndex:0,children:d===g?e.jsx(Le,{}):e.jsx(He,{})})}),!H&&y&&T&&e.jsx(b,{align:$}),i.map(c=>e.jsx(b,{align:c.align||"left",children:fe(s,c,E)},c.key))]}),H&&e.jsx(V,{children:e.jsx(b,{colSpan:i.length+1,sx:{p:0,background:R,borderColor:o,color:A},children:e.jsx(he,{in:d===g,timeout:"auto",unmountOnExit:!0,children:e.jsx(re,{sx:{m:2},children:e.jsx(Ve,{columns:T,rows:y(s)||[],colors:_,styles:S})})})})})]},g)})})]})})]})};ge.__docgenInfo={description:"",methods:[],displayName:"DynamicTable",props:{columns:{required:!0,tsType:{name:"Array",elements:[{name:"TableColumn"}],raw:"TableColumn[]"},description:""},rows:{required:!0,tsType:{name:"Array",elements:[{name:"any"}],raw:"any[]"},description:""},header:{required:!1,tsType:{name:"string"},description:""},subHeader:{required:!1,tsType:{name:"string"},description:""},buttonLabel:{required:!1,tsType:{name:"string"},description:""},onButtonClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onRowClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(row: any) => void",signature:{arguments:[{type:{name:"any"},name:"row"}],return:{name:"void"}}},description:""},avatarColumnKey:{required:!1,tsType:{name:"string"},description:""},colors:{required:!0,tsType:{name:"DynamicTableColors"},description:""},styles:{required:!0,tsType:{name:"DynamicTableStyles"},description:""},getNestedRows:{required:!1,tsType:{name:"signature",type:"function",raw:"(row: any) => any[] | undefined",signature:{arguments:[{type:{name:"any"},name:"row"}],return:{name:"union",raw:"any[] | undefined",elements:[{name:"Array",elements:[{name:"any"}],raw:"any[]"},{name:"undefined"}]}}},description:""},nestedColumns:{required:!1,tsType:{name:"Array",elements:[{name:"TableColumn"}],raw:"TableColumn[]"},description:""},showHeader:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},cellAlign:{required:!1,tsType:{name:"union",raw:"'left' | 'right' | 'center'",elements:[{name:"literal",value:"'left'"},{name:"literal",value:"'right'"},{name:"literal",value:"'center'"}]},description:"",defaultValue:{value:"'left'",computed:!1}}}};const wt={title:"Components/DynamicTable",component:ge,tags:["autodocs"]},_e=[{key:"tenant",label:"Tenant",render:i=>e.jsxs(ee,{direction:"row",alignItems:"center",spacing:1,children:[e.jsx(de,{items:[i.tenant],size:"small"}),e.jsx(Q,{fontWeight:600,children:i.tenant.name})]})},{key:"phone",label:"Phone"},{key:"email",label:"Email"},{key:"startDate",label:"Start Date"},{key:"cutOffDate",label:"Cut-off date"}],Ke=[{id:1,tenant:{name:"Aisha Rohni",image:"/static/images/avatar/1.jpg"},phone:"0701234567",email:"aisha@yahoo.com",startDate:"April 4, 2024",cutOffDate:"May 4, 2024"},{id:2,tenant:{name:"Bukky King",image:"/static/images/avatar/2.jpg"},phone:"08052777580",email:"bking@gmail.com",startDate:"July 29, 2023",cutOffDate:"July 29, 2025"}],G={args:{columns:_e,rows:Ke,header:"Tenant",buttonLabel:"Add Tenant",onButtonClick:()=>alert("Add Tenant Clicked")}};var ae,oe,se;G.parameters={...G.parameters,docs:{...(ae=G.parameters)==null?void 0:ae.docs,source:{originalSource:`{
  args: {
    columns,
    rows,
    header: 'Tenant',
    buttonLabel: 'Add Tenant',
    onButtonClick: () => alert('Add Tenant Clicked')
  }
}`,...(se=(oe=G.parameters)==null?void 0:oe.docs)==null?void 0:se.source}}};const jt=["Default"];export{G as Default,jt as __namedExportsOrder,wt as default};
